-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- 主機： 127.0.0.1
-- 產生時間： 2024-11-29 10:30:25
-- 伺服器版本： 10.4.32-MariaDB
-- PHP 版本： 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- 資料庫： `my_project_db`
--

-- --------------------------------------------------------

--
-- 資料表結構 `coupon`
--

CREATE TABLE `coupon` (
  `id` int(11) NOT NULL,
  `code` varchar(100) NOT NULL,
  `name` varchar(255) NOT NULL,
  `discountType` enum('percentage','fixed') NOT NULL,
  `discountValue` decimal(10,2) NOT NULL,
  `minPurchase` decimal(10,2) DEFAULT 0.00,
  `maxDiscountValue` decimal(10,2) DEFAULT 0.00,
  `targetMembers` text DEFAULT NULL,
  `product_id` text DEFAULT NULL,
  `product_type` text DEFAULT NULL,
  `startDate` datetime NOT NULL,
  `endDate` datetime NOT NULL,
  `usageLimit` int(11) DEFAULT 0,
  `userLimit` int(11) DEFAULT 0,
  `usedCount` int(11) DEFAULT 0,
  `status` enum('active','expired','inactive') NOT NULL,
  `description` text DEFAULT NULL,
  `created_at` datetime DEFAULT current_timestamp(),
  `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- 傾印資料表的資料 `coupon`
--

INSERT INTO `coupon` (`id`, `code`, `name`, `discountType`, `discountValue`, `minPurchase`, `maxDiscountValue`, `targetMembers`, `product_id`, `product_type`, `startDate`, `endDate`, `usageLimit`, `userLimit`, `usedCount`, `status`, `description`, `created_at`, `updated_at`) VALUES
(1, 'DIVENEW1', '首次購買折扣', 'percentage', 10.00, 500.00, 100.00, '新會員', '商品', 'equipment', '2024-01-01 00:00:00', '2024-12-31 23:59:59', 100, 1, 0, 'active', '首次購買潛水裝備享受10%折扣，最高折抵100元', '2024-11-28 19:30:54', '2024-11-28 20:41:34'),
(2, 'RENT10', '裝備租賃滿減', 'fixed', 50.00, 300.00, 0.00, '全部會員', '租賃', 'rental', '2024-02-01 00:00:00', '2024-03-31 23:59:59', 50, 1, 0, 'expired', '裝備租賃消費滿300元立減50元', '2024-11-28 19:30:54', '2024-11-28 20:41:59'),
(3, 'COURSE300', '課程報名折扣', 'fixed', 300.00, 1000.00, 0.00, '全部會員', '課程', 'course', '2024-03-15 00:00:00', '2024-04-15 23:59:59', 50, 1, 0, 'expired', '潛水課程報名消費滿1000元立減300元', '2024-11-28 19:30:54', '2024-11-28 20:42:47'),
(4, 'SUMMERFUN', '夏日裝備促銷', 'percentage', 20.00, 500.00, 0.00, '全部會員', '商品', 'equipment', '2024-06-01 00:00:00', '2024-06-30 23:59:59', 200, NULL, 0, 'expired', '夏日限定裝備促銷，全場8折優惠', '2024-11-28 19:30:54', '2024-11-28 20:42:55'),
(5, 'FRIENDREF', '推薦好友折扣', 'fixed', 100.00, 0.00, 0.00, '全部會員', '課程', NULL, '2024-01-01 00:00:00', '2024-12-31 23:59:59', 20, NULL, 0, 'active', '推薦好友首次消費後獲得100元折扣券', '2024-11-28 19:30:54', '2024-11-28 20:43:08'),
(6, 'EQUIPUPGRADE', '裝備升級優惠', 'fixed', 200.00, 1500.00, 0.00, '全部會員', '商品', 'equipment', '2024-05-01 00:00:00', '2024-05-31 23:59:59', NULL, NULL, 0, 'expired', '購買高階潛水裝備可享200元優惠', '2024-11-28 19:30:54', '2024-11-28 20:43:12'),
(7, 'BUNDLE500', '指定課程折扣', 'fixed', 500.00, 3000.00, 0.00, '全部會員', '課程', 'equipment', '2024-04-01 00:00:00', '2024-04-30 23:59:59', NULL, NULL, 0, 'expired', '購買指定課程裝備立減500元', '2024-11-28 19:30:54', '2024-11-28 20:43:17'),
(8, 'FALLSALE', '秋季促銷優惠', 'percentage', 25.00, 0.00, 200.00, '全部會員', '商品', 'equipment', '2024-09-01 00:00:00', '2024-09-30 23:59:59', NULL, NULL, 0, 'expired', '秋季促銷期間裝備最高享受25%折扣', '2024-11-28 19:30:54', '2024-11-28 21:26:06'),
(9, 'VIPDISCOUNT', 'VIP專屬優惠', 'percentage', 15.00, 0.00, 0.00, 'VIP會員', '商品', NULL, '2024-01-01 00:00:00', '2024-12-31 23:59:59', NULL, NULL, 0, 'active', 'VIP會員全場商品享15%折扣', '2024-11-28 19:30:54', '2024-11-28 20:43:32'),
(10, 'NEWYEAR50', '新年專屬折扣', 'fixed', 50.00, 200.00, 0.00, '全部會員', '商品', 'equipment,course', '2024-12-25 00:00:00', '2025-01-05 23:59:59', 100, 2, 0, 'inactive', '新年期間消費滿200元立減50元', '2024-11-28 19:30:54', '2024-11-28 20:43:47'),
(11, 'TRYDIVE10', '試潛活動優惠', 'percentage', 10.00, 500.00, 0.00, '全部會員', '活動', 'activity', '2024-07-01 00:00:00', '2024-07-31 23:59:59', NULL, 1, 0, 'expired', '參加試潛活動享受10%折扣', '2024-11-28 19:30:54', '2024-11-28 20:44:14'),
(12, 'ACTIVITY20', '活動限定折扣', 'fixed', 200.00, 800.00, 0.00, '全部會員', '活動', 'activity', '2024-08-15 00:00:00', '2024-08-31 23:59:59', 50, 1, 0, 'expired', '參加指定活動消費滿800元減200元', '2024-11-28 19:30:54', '2024-11-28 20:44:30'),
(13, 'CLEARANCE30', '清倉大促銷', 'percentage', 30.00, 0.00, 0.00, '全部會員', '商品', 'equipment', '2024-11-01 00:00:00', '2024-11-10 23:59:59', NULL, NULL, 0, 'expired', '季末清倉，商品享7折優惠', '2024-11-28 19:30:54', '2024-11-28 20:44:42'),
(14, 'GROUPBUY', '團購優惠', 'fixed', 300.00, 2000.00, 0.00, '全部會員', '團購', 'equipment', '2024-06-01 00:00:00', '2024-06-15 23:59:59', NULL, NULL, 0, 'expired', '參與團購活動可享300元折扣', '2024-11-28 19:30:54', '2024-11-28 20:45:02'),
(15, 'BIRTHDAY200', '生日專屬優惠', 'fixed', 200.00, 0.00, 0.00, '全部會員', '全部', NULL, '2024-01-01 00:00:00', '2024-12-31 23:59:59', 1, 1, 0, 'active', '用戶生日當月享200元專屬優惠券', '2024-11-28 19:30:54', '2024-11-28 21:25:29'),
(16, 'HOLIDAY15', '假日促銷折扣', 'percentage', 15.00, 300.00, 0.00, '全部會員', '全部', 'equipment', '2024-05-01 00:00:00', '2024-05-31 23:59:59', NULL, NULL, 0, 'expired', '假日期間消費滿300元享85折', '2024-11-28 19:30:54', '2024-11-28 20:46:33'),
(17, 'EQUIPTRY', '裝備試用折扣', 'fixed', 150.00, 500.00, 0.00, '全部會員', '租賃', 'rental', '2024-03-01 00:00:00', '2024-03-15 23:59:59', NULL, NULL, 0, 'expired', '首次租賃試用裝備享150元折扣', '2024-11-28 19:30:54', '2024-11-28 20:47:05'),
(18, 'FAMILYDIVE', '家庭套票優惠', 'fixed', 500.00, 2000.00, 0.00, '全部會員', '活動', 'course', '2024-07-01 00:00:00', '2024-07-31 23:59:59', 10, NULL, 0, 'expired', '購買家庭潛水套票減免500元', '2024-11-28 19:30:54', '2024-11-28 20:48:30'),
(19, 'WINTER10', '冬季促銷活動', 'percentage', 10.00, 0.00, 100.00, '全部會員', '商品', 'equipment', '2024-12-01 00:00:00', '2024-12-31 23:59:59', NULL, NULL, 0, 'inactive', '冬季限定促銷，全場9折優惠', '2024-11-28 19:30:54', '2024-11-28 20:47:51'),
(20, 'LOYALTY300', '忠實客戶回饋', 'fixed', 300.00, 1500.00, 0.00, 'VIP會員', '全部', NULL, '2024-01-01 00:00:00', '2024-12-31 23:59:59', NULL, NULL, 0, 'active', '忠實客戶年度回饋，每筆滿1500元訂單立減300元', '2024-11-28 19:30:54', '2024-11-28 20:48:22'),
(21, 'EARLYBIRD', '活動早鳥優惠', 'fixed', 200.00, 500.00, 0.00, '全部會員', '課程', 'activity', '2024-05-01 00:00:00', '2024-05-15 23:59:59', NULL, 1, 0, 'expired', '活動早鳥報名立減200元', '2024-11-28 19:30:54', '2024-11-28 20:48:45'),
(22, 'ECOFRIEND', '環保商品優惠', 'percentage', 15.00, 0.00, 0.00, '全部會員', '商品', 'equipment', '2024-02-01 00:00:00', '2024-02-29 23:59:59', NULL, NULL, 0, 'expired', '選擇環保裝備商品享15%折扣', '2024-11-28 19:30:54', '2024-11-28 20:49:03'),
(23, 'WEDDINGGIFT', '婚禮禮品優惠', 'fixed', 500.00, 3000.00, 0.00, '全部會員', '商品', 'equipment', '2024-08-01 00:00:00', '2024-08-15 23:59:59', NULL, NULL, 0, 'expired', '裝備滿3000元立減500元', '2024-11-28 19:30:54', '2024-11-28 20:49:46'),
(24, 'FREECOURSE', '免費課程優惠', 'fixed', 500.00, 0.00, 0.00, '全部會員', '商品', 'course', '2024-10-01 00:00:00', '2024-10-31 23:59:59', NULL, NULL, 0, 'expired', '選購裝備可獲得免費基礎潛水課程資格', '2024-11-28 19:30:54', '2024-11-28 20:50:30'),
(25, 'FLASHSALE', '限時閃購優惠', 'percentage', 50.00, 1000.00, 500.00, '全部會員', '商品', 'equipment', '2024-11-01 00:00:00', '2024-11-03 23:59:59', NULL, NULL, 0, 'expired', '限時閃購活動，部分商品最高可享5折', '2024-11-28 19:30:54', '2024-11-28 20:50:46'),
(26, 'WINTERSALE', '冬季商品折扣', 'percentage', 20.00, 500.00, 0.00, '全部會員', '商品', 'equipment', '2024-12-01 00:00:00', '2024-12-31 23:59:59', 100, NULL, 0, 'inactive', '冬季裝備全場8折優惠', '2024-11-28 19:33:18', '2024-11-28 21:27:03'),
(27, 'CROSSSELL50', '搭配購物優惠', 'fixed', 50.00, 300.00, 0.00, '全部會員', '商品', 'equipment', '2024-03-01 00:00:00', '2024-03-15 23:59:59', 50, NULL, 0, 'expired', '搭配購物滿300元立減50元', '2024-11-28 19:33:18', '2024-11-28 21:27:21'),
(28, 'HAPPYHOUR30', '快閃優惠', 'percentage', 30.00, 1000.00, 0.00, '全部會員', '全部', 'equipment', '2024-11-01 00:00:00', '2024-11-05 23:59:59', NULL, NULL, 0, 'expired', '快閃優惠，限時5天內享受30%折扣', '2024-11-28 19:33:18', '2024-11-28 21:27:37'),
(29, 'HOLIDAYBONUS', '假日贈送優惠券', 'fixed', 200.00, 0.00, 0.00, '全部會員', '商品', NULL, '2024-05-01 00:00:00', '2024-05-31 23:59:59', 50, NULL, 0, 'expired', '假日消費滿額送200元優惠券', '2024-11-28 19:33:18', '2024-11-28 21:27:55'),
(30, 'STUDENTDISCOUNT', '學生專屬優惠', 'percentage', 15.00, 0.00, 0.00, '學生會員', '課程', NULL, '2024-01-01 00:00:00', '2024-12-31 23:59:59', 50, 1, 0, 'active', '學生族群享有15%折扣', '2024-11-28 19:33:18', '2024-11-28 21:28:19'),
(31, 'FESTIVAL100', '節日專屬折扣', 'fixed', 100.00, 500.00, 0.00, '全部會員', '商品', 'equipment', '2024-02-01 00:00:00', '2024-02-29 23:59:59', NULL, NULL, 0, 'expired', '節日專屬，滿500元減100元', '2024-11-28 19:33:18', '2024-11-28 21:28:30'),
(32, 'REPEATCUSTOMER', '回購客戶優惠', 'fixed', 150.00, 800.00, 0.00, '全部會員', '商品', NULL, '2024-01-01 00:00:00', '2024-12-31 23:59:59', NULL, 1, 0, 'active', '回購客戶專屬150元優惠券', '2024-11-28 19:33:18', '2024-11-28 21:28:44'),
(33, 'SUMMERDISCOUNT', '夏季促銷優惠', 'percentage', 25.00, 0.00, 0.00, '全部會員', '商品', 'equipment', '2024-06-01 00:00:00', '2024-06-30 23:59:59', NULL, NULL, 0, 'expired', '夏季裝備全場折扣25%', '2024-11-28 19:33:18', '2024-11-28 21:28:57'),
(34, 'NEWARRIVAL20', '新品上市折扣', 'percentage', 20.00, 0.00, 0.00, '全部會員', '商品', 'equipment', '2024-04-01 00:00:00', '2024-04-30 23:59:59', NULL, NULL, 0, 'expired', '新品上市，享受20%折扣', '2024-11-28 19:33:18', '2024-11-28 21:29:08'),
(35, 'VIPSALE', 'VIP專屬季節性折扣', 'percentage', 30.00, 0.00, 0.00, 'VIP會員', '活動', NULL, '2024-11-01 00:00:00', '2024-11-30 23:59:59', 30, NULL, 0, 'active', 'VIP會員享30%季節折扣', '2024-11-28 19:33:18', '2024-11-28 21:29:27'),
(36, 'SNORKEL10', '浮潛裝備折扣', 'fixed', 100.00, 300.00, 0.00, '全部會員', '商品', 'equipment', '2024-07-01 00:00:00', '2024-07-31 23:59:59', NULL, NULL, 0, 'expired', '浮潛裝備滿300元減100元', '2024-11-28 19:33:18', '2024-11-28 21:29:51'),
(37, 'SEASONALSALE', '季節特賣優惠', 'percentage', 15.00, 0.00, 0.00, '全部會員', '商品', 'equipment', '2024-09-01 00:00:00', '2024-09-30 23:59:59', NULL, NULL, 0, 'expired', '季節特賣，全場裝備15%折扣', '2024-11-28 19:33:18', '2024-11-28 21:30:05'),
(38, 'CLEANINGOUT', '清倉優惠', 'percentage', 50.00, 0.00, 200.00, '全部會員', '商品', 'equipment', '2024-11-10 00:00:00', '2024-11-15 23:59:59', NULL, NULL, 0, 'expired', '清倉大促銷，部分商品50%折扣', '2024-11-28 19:33:18', '2024-11-28 21:30:28'),
(39, 'PREMIUMACCESS', '高端客戶優惠', 'percentage', 40.00, 0.00, 0.00, 'VIP會員', '全部', NULL, '2024-06-01 00:00:00', '2024-06-15 23:59:59', 20, NULL, 0, 'expired', '高端客戶享40%專屬折扣', '2024-11-28 19:33:18', '2024-11-28 21:30:52'),
(40, 'FLASH60', '限時搶購優惠', 'fixed', 60.00, 100.00, 0.00, '全部會員', '全部', 'equipment', '2024-08-01 00:00:00', '2024-08-01 23:59:59', 10, NULL, 0, 'expired', '限時搶購商品，立減60元', '2024-11-28 19:33:18', '2024-11-28 21:32:29'),
(41, 'TRYANDEARN', '裝備試用優惠', 'fixed', 150.00, 500.00, 0.00, '全部會員', '租賃', 'rental', '2024-02-01 00:00:00', '2024-02-15 23:59:59', NULL, NULL, 0, 'expired', '試用潛水裝備並賺取150元優惠券', '2024-11-28 19:33:18', '2024-11-28 21:37:18'),
(42, 'GIFTWITHPURCHASE', '指定商品即送禮品卡', 'fixed', 200.00, 1000.00, 0.00, '全部會員', '全部', 'equipment', '2024-03-01 00:00:00', '2024-03-31 23:59:59', NULL, NULL, 0, 'expired', '買指定潛水裝備即送200元禮品卡', '2024-11-28 19:33:18', '2024-11-28 21:36:43'),
(43, 'TEAMBUILDING', '團隊報名折扣', 'fixed', 300.00, 1000.00, 0.00, '全部會員', '課程', 'course', '2024-09-01 00:00:00', '2024-09-30 23:59:59', NULL, NULL, 0, 'expired', '團隊報名潛水課程滿1000元減300元', '2024-11-28 19:33:18', '2024-11-28 21:35:26'),
(44, 'BOGO', '買一送一促銷', 'fixed', 0.00, 500.00, 0.00, '全部會員', '商品', 'equipment', '2024-12-01 00:00:00', '2024-12-31 23:59:59', NULL, NULL, 0, 'inactive', '買一送一活動，限時享受此優惠', '2024-11-28 19:33:18', '2024-11-28 21:33:30'),
(45, 'PARTNERSHIP10', '學生優惠', 'fixed', 100.00, 0.00, 0.00, '學生會員', '活動', NULL, '2024-04-01 00:00:00', '2024-04-30 23:59:59', 50, NULL, 0, 'expired', '學生專屬100元優惠券', '2024-11-28 19:33:18', '2024-11-28 21:37:40'),
(46, 'AUTUMNSALE', '秋季優惠折扣', 'percentage', 20.00, 0.00, 0.00, '全部會員', '商品', 'equipment', '2024-10-01 00:00:00', '2024-10-31 23:59:59', NULL, NULL, 0, 'expired', '秋季促銷活動，裝備商品享20%折扣', '2024-11-28 19:33:18', '2024-11-28 21:34:17'),
(47, 'FREESHIP', '免費運送優惠', 'fixed', 0.00, 500.00, 0.00, '全部會員', '商品', NULL, '2024-03-01 00:00:00', '2024-03-15 23:59:59', NULL, NULL, 0, 'expired', '滿500元免費運送', '2024-11-28 19:33:18', '2024-11-28 21:34:12'),
(48, 'XMASGIFT', '聖誕節專屬優惠', 'percentage', 15.00, 0.00, 0.00, '全部會員', '全部', 'equipment', '2024-12-01 00:00:00', '2024-12-25 23:59:59', NULL, NULL, 0, 'inactive', '聖誕節專屬15%折扣優惠', '2024-11-28 19:33:18', '2024-11-28 21:38:02'),
(49, 'NEWYEARBONUS', '新年優惠', 'percentage', 25.00, 0.00, 0.00, '全部會員', '全部', 'equipment', '2024-01-01 00:00:00', '2024-01-31 23:59:59', NULL, NULL, 0, 'expired', '新年促銷，滿額享25%折扣', '2024-11-28 19:33:18', '2024-11-28 21:38:17'),
(50, 'BIRTHDAYGIFT', '生日禮品優惠', 'fixed', 500.00, 0.00, 0.00, '全部會員', '商品', 'equipment', '2024-06-01 00:00:00', '2024-06-30 23:59:59', NULL, NULL, 0, 'expired', '生日月內消費滿500元送500元禮品卡', '2024-11-28 19:33:18', '2024-11-28 21:38:32');

--
-- 已傾印資料表的索引
--

--
-- 資料表索引 `coupon`
--
ALTER TABLE `coupon`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `code` (`code`);

--
-- 在傾印的資料表使用自動遞增(AUTO_INCREMENT)
--

--
-- 使用資料表自動遞增(AUTO_INCREMENT) `coupon`
--
ALTER TABLE `coupon`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=51;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
